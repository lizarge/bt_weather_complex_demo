
В якості блютуз девайса використав ESP32 BLE, эмулює погодну станцію с одним сервісом там трьома характерисками (один з яких notyfy с рандомним періодом), скетч для ESP32 знаходится в папці с проєктом.

Брокер розвернуто на AWS безкоштовній EC2 убунту машині (Mosquitto)

Загалом все зроблено злегка складніше ніж потрібно, але давно хотів використати Combine для роботи з BT, тим паче з MQTT де все основано на паблішингу/саскрайбінгу подій.
Окрім того розділив логіку підключення до БТ, та безпосередньо роботу з пристроєм

Для роботи з MQTT використав SPM Artemisia, бо він підтримує роботу з Combine з коробки. 

Зроблено:
- Простий демо UI на swiftui
- Підключення та пошут пристроїв
- Обробка підключення до неправильного девайсу (без потрібного сервісу)
- Базова обробка помилок BT
- Можливість зміни брокера на льоту


Стек:
SwiftUI, MVV, Combine, CoreBluetooth, Artemisia

https://streamable.com/giht71